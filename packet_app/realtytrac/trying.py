# {"zpid":"59669590","id":"59669590","imgSrc":"https://photos.zillowstatic.com/p_e/ISmiolyjg883k70000000000.jpg","hasImage":true,"detailUrl":"https://www.zillow.com/homedetails/22507-State-Road-120-Elkhart-IN-46516/59669590_zpid/","statusType":"SOLD","statusText":"Sold","countryCurrency":"$","soldPrice":"$205,000","unformattedPrice":205000,"address":"22507 State Road 120, Elkhart, IN 46516","addressStreet":"22507 State Road 120","addressCity":"Elkhart","addressState":"IN","addressZipcode":"46516","beds":2,"baths":1.0,"area":1456,"latLong":{"latitude":41.697583,"longitude":-85.897428},"isZillowOwned":false,"commute":null,"variableData":{"type":"RECENTLY_SOLD","text":"Sold 12/12/2018"},"hdpData":{"homeInfo":{"zpid":59669590,"streetAddress":"22507 State Road 120","zipcode":"46516","city":"Elkhart","state":"IN","latitude":-85.897428,"price":205000.0,"dateSold":1544601600000,"bathrooms":1.0,"bedrooms":2.0,"livingArea":1456.0,"lotSize":31232.0,"homeType":"SINGLE_FAMILY","homeStatus":"RECENTLY_SOLD","photoCount":25,"imageLink":"https://photos.zillowstatic.com/p_g/ISmiolyjg883k70000000000.jpg","daysOnZillow":-1,"isFeatured":false,"shouldHighlight":false,"brokerId":0,"zestimate":226457,"rentZestimate":1300,"listing_sub_type":{},"isUnmappable":false,"mediumImageLink":"https://photos.zillowstatic.com/p_c/ISmiolyjg883k70000000000.jpg","isPreforeclosureAuction":false,"homeStatusForHDP":"RECENTLY_SOLD","priceForHDP":205000.0,"hiResImageLink":"https://photos.zillowstatic.com/p_f/ISmiolyjg883k70000000000.jpg","watchImageLink":"https://photos.zillowstatic.com/p_j/ISmiolyjg883k70000000000.jpg","tvImageLink":"https://photos.zillowstatic.com/p_m/ISmiolyjg883k70000000000.jpg","tvCollectionImageLink":"https://photos.zillowstatic.com/p_l/ISmiolyjg883k70000000000.jpg","tvHighResImageLink":"https://photos.zillowstatic.com/p_n/ISmiolyjg883k70000000000.jpg","desktopWebHdpImageLink":"https://photos.zillowstatic.com/p_h/ISmiolyjg883k70000000000.jpg","isNonOwnerOccupied":true,"isPremierBuilder":false,"isZillowOwned":false,"currency":"USD","country":"USA","taxAssessedValue":188200.0,"unit":"   "}},"isSaved":false,"isUserClaimingOwner":false,"isUserConfirmedClaim":false,"pgapt":"RecentlySold","sgapt":"Unknown Listed By","zestimate":226457,"shouldShowZestimateAsPrice":false,"has3DModel":false,"hasVideo":false,"list":true,"relaxed":false}}

# print('{"zpid":"50605458","id":"50605458","imgSrc":"https://photos.zillowstatic.com/p_e/ISu4bsmch55pr10000000000.jpg","hasImage":true,"detailUrl":"https://www.zillow.com/homedetails/202-Larson-Ave-Elkhart-IN-46516/50605458_zpid/","statusType":"SOLD","statusText":"Sold","countryCurrency":"$","soldPrice":"$140,500","unformattedPrice":140500,"address":"202 Larson Ave, Elkhart, IN 46516","addressStreet":"202 Larson Ave","addressCity":"Elkhart","addressState":"IN","addressZipcode":"46516","beds":3,"baths":1.0,"area":1092,"latLong":{"latitude":41.690906,"longitude":-85.928602},"isZillowOwned":false,"commute":null,"variableData":{"type":"RECENTLY_SOLD","text":"Sold 06/10/2019"},"hdpData":{"homeInfo":{"zpid":50605458,"streetAddress":"202 Larson Ave","zipcode":"46516","city":"Elkhart","state":"IN","latitude":-85.928602,"price":140500.0,"dateSold":1560193200000,"bathrooms":1.0,"bedrooms":3.0,"livingArea":1092.0,"lotSize":10358.0,"homeType":"SINGLE_FAMILY","homeStatus":"RECENTLY_SOLD","photoCount":16,"imageLink":"https://photos.zillowstatic.com/p_g/ISu4bsmch55pr10000000000.jpg","daysOnZillow":-1,"isFeatured":false,"shouldHighlight":false,"brokerId":0,"zestimate":150403,"rentZestimate":1130,"listing_sub_type":{},"isUnmappable":false,"mediumImageLink":"https://photos.zillowstatic.com/p_c/ISu4bsmch55pr10000000000.jpg","isPreforeclosureAuction":false,"homeStatusForHDP":"RECENTLY_SOLD","priceForHDP":140500.0,"hiResImageLink":"https://photos.zillowstatic.com/p_f/ISu4bsmch55pr10000000000.jpg","watchImageLink":"https://photos.zillowstatic.com/p_j/ISu4bsmch55pr10000000000.jpg","tvImageLink":"https://photos.zillowstatic.com/p_m/ISu4bsmch55pr10000000000.jpg","tvCollectionImageLink":"https://photos.zillowstatic.com/p_l/ISu4bsmch55pr10000000000.jpg","tvHighResImageLink":"https://photos.zillowstatic.com/p_n/ISu4bsmch55pr10000000000.jpg","desktopWebHdpImageLink":"https://photos.zillowstatic.com/p_h/ISu4bsmch55pr10000000000.jpg","isNonOwnerOccupied":true,"isPremierBuilder":false,"isZillowOwned":false,"currency":"USD","country":"USA","taxAssessedValue":104700.0,"unit":"   "}},"isSaved":false,"isUserClaimingOwner":false,"isUserConfirmedClaim":false,"pgapt":"RecentlySold","sgapt":"Unknown Listed By","zestimate":150403,"shouldShowZestimateAsPrice":false,"has3DModel":false,"hasVideo":false,"list":true,"relaxed":false}],"resultsHash":"1d19375","relaxedResults":[],"relaxedResultsHash":"1"},"searchList":{"expansionDistance":0,"isCollectionView":false,"staticBaseUrl":"https://www.zillowstatic.com/static/","zeroResultsFilters":null,"pagination":{"nextUrl":"/elkhart-in-46516/sold/3-3_beds/5_p/","previousUrl":"/elkhart-in-46516/sold/3-3_beds/3_p/"},"message":null,"adsConfig":{"navAdSlot":"zillow/search_results/buy_sold/search_1","displayAdSlot":"zillow/search_results/buy_sold/b_right_p1","targets":{"zip":"46516","mlat":"41.665846","bd":"3","zusr":"true","city":"Elkhart","vers":"srp_small","listtp":"buy_sold","searchtp":"zipcode","filtered":"true","zguidh":"409576561160588854","premieragent":"no","targetRegionId":"78156","dma":"91","agentnavads":"yes","state":"IN","mlong":"-85.96583100000001","cnty":"Elkhart"},"needsUpdate":true},"coShoppingConfig":{"isEnabled":false,"shouldShowUpsellDialog":false,"shouldShowAcceptDialog":false,"inviterName":null,"gaLabel":"invite_email_notloggedin"},"totalResultCount":451,"resultsPerPage":40,"totalPages":12,"listResultsTitle":"46516 Recently Sold Homes","guidedSearchFilters":{"version":"0","filterIds":[]}}},"autocompleteConfig":{"address":{"enabled":true,"url":"https://aac.zillowstatic.com"},"region":{"enabled":true,"url":"https://ac.zillowstatic.com/","truliaUrl":"https://www.zillowstatic.com/autocomplete/v2/"},"recentSearchLocalStorageKey":"recentSearchesEnhanced","centroid":{"lat":41.665846,"lon":-85.96583100000001},"initSearchTerm":"Elkhart, IN","shouldShowSavedHomes":false,"shouldShowSavedSearches":false}}--></script><script>}'[2300:2340])
#
# print('{"zpid":"50605458","id":"50605458","imgSrc":"https://photos.zillowstatic.com/p_e/ISu4bsmch55pr10000000000.jpg","hasImage":true,"detailUrl":"https://www.zillow.com/homedetails/202-Larson-Ave-Elkhart-IN-46516/50605458_zpid/","statusType":"SOLD","statusText":"Sold","countryCurrency":"$","soldPrice":"$140,500","unformattedPrice":140500,"address":"202 Larson Ave, Elkhart, IN 46516","addressStreet":"202 Larson Ave","addressCity":"Elkhart","addressState":"IN","addressZipcode":"46516","beds":3,"baths":1.0,"area":1092,"latLong":{"latitude":41.690906,"longitude":-85.928602},"isZillowOwned":false,"commute":null,"variableData":{"type":"RECENTLY_SOLD","text":"Sold 06/10/2019"},"hdpData":{"homeInfo":{"zpid":50605458,"streetAddress":"202 Larson Ave","zipcode":"46516","city":"Elkhart","state":"IN","latitude":-85.928602,"price":140500.0,"dateSold":1560193200000,"bathrooms":1.0,"bedrooms":3.0,"livingArea":1092.0,"lotSize":10358.0,"homeType":"SINGLE_FAMILY","homeStatus":"RECENTLY_SOLD","photoCount":16,"imageLink":"https://photos.zillowstatic.com/p_g/ISu4bsmch55pr10000000000.jpg","daysOnZillow":-1,"isFeatured":false,"shouldHighlight":false,"brokerId":0,"zestimate":150403,"rentZestimate":1130,"listing_sub_type":{},"isUnmappable":false,"mediumImageLink":"https://photos.zillowstatic.com/p_c/ISu4bsmch55pr10000000000.jpg","isPreforeclosureAuction":false,"homeStatusForHDP":"RECENTLY_SOLD","priceForHDP":140500.0,"hiResImageLink":"https://photos.zillowstatic.com/p_f/ISu4bsmch55pr10000000000.jpg","watchImageLink":"https://photos.zillowstatic.com/p_j/ISu4bsmch55pr10000000000.jpg","tvImageLink":"https://photos.zillowstatic.com/p_m/ISu4bsmch55pr10000000000.jpg","tvCollectionImageLink":"https://photos.zillowstatic.com/p_l/ISu4bsmch55pr10000000000.jpg","tvHighResImageLink":"https://photos.zillowstatic.com/p_n/ISu4bsmch55pr10000000000.jpg","desktopWebHdpImageLink":"https://photos.zillowstatic.com/p_h/ISu4bsmch55pr10000000000.jpg","isNonOwnerOccupied":true,"isPremierBuilder":false,"isZillowOwned":false,"currency":"USD","country":"USA","taxAssessedValue":104700.0,"unit":"   "}},"isSaved":false,"isUserClaimingOwner":false,"isUserConfirmedClaim":false,"pgapt":"RecentlySold","sgapt":"Unknown Listed By","zestimate":150403,"shouldShowZestimateAsPrice":false,"has3DModel":false,"hasVideo":false,"list":true,"relaxed":false}],"resultsHash":"1d19375","relaxedResults":[],"relaxedResultsHash":"1"},"searchList":{"expansionDistance":0,"isCollectionView":false,"staticBaseUrl":"https://www.zillowstatic.com/static/","zeroResultsFilters":null,"pagination":{"nextUrl":"/elkhart-in-46516/sold/3-3_beds/5_p/","previousUrl":"/elkhart-in-46516/sold/3-3_beds/3_p/"},"message":null,"adsConfig":{"navAdSlot":"zillow/search_results/buy_sold/search_1","displayAdSlot":"zillow/search_results/buy_sold/b_right_p1","targets":{"zip":"46516","mlat":"41.665846","bd":"3","zusr":"true","city":"Elkhart","vers":"srp_small","listtp":"buy_sold","searchtp":"zipcode","filtered":"true","zguidh":"409576561160588854","premieragent":"no","targetRegionId":"78156","dma":"91","agentnavads":"yes","state":"IN","mlong":"-85.96583100000001","cnty":"Elkhart"},"needsUpdate":true},"coShoppingConfig":{"isEnabled":false,"shouldShowUpsellDialog":false,"shouldShowAcceptDialog":false,"inviterName":null,"gaLabel":"invite_email_notloggedin"},"totalResultCount":451,"resultsPerPage":40,"totalPages":12,"listResultsTitle":"46516 Recently Sold Homes","guidedSearchFilters":{"version":"0","filterIds":[]}}},"autocompleteConfig":{"address":{"enabled":true,"url":"https://aac.zillowstatic.com"},"region":{"enabled":true,"url":"https://ac.zillowstatic.com/","truliaUrl":"https://www.zillowstatic.com/autocomplete/v2/"},"recentSearchLocalStorageKey":"recentSearchesEnhanced","centroid":{"lat":41.665846,"lon":-85.96583100000001},"initSearchTerm":"Elkhart, IN","shouldShowSavedHomes":false,"shouldShowSavedSearches":false}}--></script><script>}'[2200:2400])
#
# print('{"zpid":"50605458","id":"50605458","imgSrc":"https://photos.zillowstatic.com/p_e/ISu4bsmch55pr10000000000.jpg","hasImage":true,"detailUrl":"https://www.zillow.com/homedetails/202-Larson-Ave-Elkhart-IN-46516/50605458_zpid/","statusType":"SOLD","statusText":"Sold","countryCurrency":"$","soldPrice":"$140,500","unformattedPrice":140500,"address":"202 Larson Ave, Elkhart, IN 46516","addressStreet":"202 Larson Ave","addressCity":"Elkhart","addressState":"IN","addressZipcode":"46516","beds":3,"baths":1.0,"area":1092,"latLong":{"latitude":41.690906,"longitude":-85.928602},"isZillowOwned":false,"commute":null,"variableData":{"type":"RECENTLY_SOLD","text":"Sold 06/10/2019"},"hdpData":{"homeInfo":{"zpid":50605458,"streetAddress":"202 Larson Ave","zipcode":"46516","city":"Elkhart","state":"IN","latitude":-85.928602,"price":140500.0,"dateSold":1560193200000,"bathrooms":1.0,"bedrooms":3.0,"livingArea":1092.0,"lotSize":10358.0,"homeType":"SINGLE_FAMILY","homeStatus":"RECENTLY_SOLD","photoCount":16,"imageLink":"https://photos.zillowstatic.com/p_g/ISu4bsmch55pr10000000000.jpg","daysOnZillow":-1,"isFeatured":false,"shouldHighlight":false,"brokerId":0,"zestimate":150403,"rentZestimate":1130,"listing_sub_type":{},"isUnmappable":false,"mediumImageLink":"https://photos.zillowstatic.com/p_c/ISu4bsmch55pr10000000000.jpg","isPreforeclosureAuction":false,"homeStatusForHDP":"RECENTLY_SOLD","priceForHDP":140500.0,"hiResImageLink":"https://photos.zillowstatic.com/p_f/ISu4bsmch55pr10000000000.jpg","watchImageLink":"https://photos.zillowstatic.com/p_j/ISu4bsmch55pr10000000000.jpg","tvImageLink":"https://photos.zillowstatic.com/p_m/ISu4bsmch55pr10000000000.jpg","tvCollectionImageLink":"https://photos.zillowstatic.com/p_l/ISu4bsmch55pr10000000000.jpg","tvHighResImageLink":"https://photos.zillowstatic.com/p_n/ISu4bsmch55pr10000000000.jpg","desktopWebHdpImageLink":"https://photos.zillowstatic.com/p_h/ISu4bsmch55pr10000000000.jpg","isNonOwnerOccupied":true,"isPremierBuilder":false,"isZillowOwned":false,"currency":"USD","country":"USA","taxAssessedValue":104700.0,"unit":"   "}},"isSaved":false,"isUserClaimingOwner":false,"isUserConfirmedClaim":false,"pgapt":"RecentlySold","sgapt":"Unknown Listed By","zestimate":150403,"shouldShowZestimateAsPrice":false,"has3DModel":false,"hasVideo":false,"list":true,"relaxed":false}],"resultsHash":"1d19375","relaxedResults":[],"relaxedResultsHash":"1"},"searchList":{"expansionDistance":0,"isCollectionView":false,"staticBaseUrl":"https://www.zillowstatic.com/static/","zeroResultsFilters":null,"pagination":{"nextUrl":"/elkhart-in-46516/sold/3-3_beds/5_p/","previousUrl":"/elkhart-in-46516/sold/3-3_beds/3_p/"},"message":null,"adsConfig":{"navAdSlot":"zillow/search_results/buy_sold/search_1","displayAdSlot":"zillow/search_results/buy_sold/b_right_p1","targets":{"zip":"46516","mlat":"41.665846","bd":"3","zusr":"true","city":"Elkhart","vers":"srp_small","listtp":"buy_sold","searchtp":"zipcode","filtered":"true","zguidh":"409576561160588854","premieragent":"no","targetRegionId":"78156","dma":"91","agentnavads":"yes","state":"IN","mlong":"-85.96583100000001","cnty":"Elkhart"},"needsUpdate":true},"coShoppingConfig":{"isEnabled":false,"shouldShowUpsellDialog":false,"shouldShowAcceptDialog":false,"inviterName":null,"gaLabel":"invite_email_notloggedin"},"totalResultCount":451,"resultsPerPage":40,"totalPages":12,"listResultsTitle":"46516 Recently Sold Homes","guidedSearchFilters":{"version":"0","filterIds":[]}}},"autocompleteConfig":{"address":{"enabled":true,"url":"https://aac.zillowstatic.com"},"region":{"enabled":true,"url":"https://ac.zillowstatic.com/","truliaUrl":"https://www.zillowstatic.com/autocomplete/v2/"},"recentSearchLocalStorageKey":"recentSearchesEnhanced","centroid":{"lat":41.665846,"lon":-85.96583100000001},"initSearchTerm":"Elkhart, IN","shouldShowSavedHomes":false,"shouldShowSavedSearches":false}}--></script><script>}'[2315:2325])
# print('{"zpid":"50605458","id":"50605458","imgSrc":"https://photos.zillowstatic.com/p_e/ISu4bsmch55pr10000000000.jpg","hasImage":true,"detailUrl":"https://www.zillow.com/homedetails/202-Larson-Ave-Elkhart-IN-46516/50605458_zpid/","statusType":"SOLD","statusText":"Sold","countryCurrency":"$","soldPrice":"$140,500","unformattedPrice":140500,"address":"202 Larson Ave, Elkhart, IN 46516","addressStreet":"202 Larson Ave","addressCity":"Elkhart","addressState":"IN","addressZipcode":"46516","beds":3,"baths":1.0,"area":1092,"latLong":{"latitude":41.690906,"longitude":-85.928602},"isZillowOwned":false,"commute":null,"variableData":{"type":"RECENTLY_SOLD","text":"Sold 06/10/2019"},"hdpData":{"homeInfo":{"zpid":50605458,"streetAddress":"202 Larson Ave","zipcode":"46516","city":"Elkhart","state":"IN","latitude":-85.928602,"price":140500.0,"dateSold":1560193200000,"bathrooms":1.0,"bedrooms":3.0,"livingArea":1092.0,"lotSize":10358.0,"homeType":"SINGLE_FAMILY","homeStatus":"RECENTLY_SOLD","photoCount":16,"imageLink":"https://photos.zillowstatic.com/p_g/ISu4bsmch55pr10000000000.jpg","daysOnZillow":-1,"isFeatured":false,"shouldHighlight":false,"brokerId":0,"zestimate":150403,"rentZestimate":1130,"listing_sub_type":{},"isUnmappable":false,"mediumImageLink":"https://photos.zillowstatic.com/p_c/ISu4bsmch55pr10000000000.jpg","isPreforeclosureAuction":false,"homeStatusForHDP":"RECENTLY_SOLD","priceForHDP":140500.0,"hiResImageLink":"https://photos.zillowstatic.com/p_f/ISu4bsmch55pr10000000000.jpg","watchImageLink":"https://photos.zillowstatic.com/p_j/ISu4bsmch55pr10000000000.jpg","tvImageLink":"https://photos.zillowstatic.com/p_m/ISu4bsmch55pr10000000000.jpg","tvCollectionImageLink":"https://photos.zillowstatic.com/p_l/ISu4bsmch55pr10000000000.jpg","tvHighResImageLink":"https://photos.zillowstatic.com/p_n/ISu4bsmch55pr10000000000.jpg","desktopWebHdpImageLink":"https://photos.zillowstatic.com/p_h/ISu4bsmch55pr10000000000.jpg","isNonOwnerOccupied":true,"isPremierBuilder":false,"isZillowOwned":false,"currency":"USD","country":"USA","taxAssessedValue":104700.0,"unit":"   "}},"isSaved":false,"isUserClaimingOwner":false,"isUserConfirmedClaim":false,"pgapt":"RecentlySold","sgapt":"Unknown Listed By","zestimate":150403,"shouldShowZestimateAsPrice":false,"has3DModel":false,"hasVideo":false,"list":true,"relaxed":false}],"resultsHash":"1d19375","relaxedResults":[],"relaxedResultsHash":"1"},"searchList":{"expansionDistance":0,"isCollectionView":false,"staticBaseUrl":"https://www.zillowstatic.com/static/","zeroResultsFilters":null,"pagination":{"nextUrl":"/elkhart-in-46516/sold/3-3_beds/5_p/","previousUrl":"/elkhart-in-46516/sold/3-3_beds/3_p/"},"message":null,"adsConfig":{"navAdSlot":"zillow/search_results/buy_sold/search_1","displayAdSlot":"zillow/search_results/buy_sold/b_right_p1","targets":{"zip":"46516","mlat":"41.665846","bd":"3","zusr":"true","city":"Elkhart","vers":"srp_small","listtp":"buy_sold","searchtp":"zipcode","filtered":"true","zguidh":"409576561160588854","premieragent":"no","targetRegionId":"78156","dma":"91","agentnavads":"yes","state":"IN","mlong":"-85.96583100000001","cnty":"Elkhart"},"needsUpdate":true},"coShoppingConfig":{"isEnabled":false,"shouldShowUpsellDialog":false,"shouldShowAcceptDialog":false,"inviterName":null,"gaLabel":"invite_email_notloggedin"},"totalResultCount":451,"resultsPerPage":40,"totalPages":12,"listResultsTitle":"46516 Recently Sold Homes","guidedSearchFilters":{"version":"0","filterIds":[]}}},"autocompleteConfig":{"address":{"enabled":true,"url":"https://aac.zillowstatic.com"},"region":{"enabled":true,"url":"https://ac.zillowstatic.com/","truliaUrl":"https://www.zillowstatic.com/autocomplete/v2/"},"recentSearchLocalStorageKey":"recentSearchesEnhanced","centroid":{"lat":41.665846,"lon":-85.96583100000001},"initSearchTerm":"Elkhart, IN","shouldShowSavedHomes":false,"shouldShowSavedSearches":false}}--></script><script>}'[2319:2322])
#
# raise ImportError
def getting_realtytrac(urls):
    import requests
    from.getting_realtytrac import (getting_realtytrac_async,
                                    getting_realtytrac_async1,
                                    getting_realtytrac_async2,
                                    getting_realtytrac_async3,
                                    getting_realtytrac_asyns4)
    from .gathering_realtytrac import gathering_price_history, gathering_tax_history, gathering_home_details
    import requests_html
    from random import randint

    req_headers = {
        'accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8',
        'accept-encoding': 'gzip, deflate, br',
        'accept-language': 'en-US,en;q=0.8',
        'upgrade-insecure-requests': '1',
        'user-agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:47.0) Gecko/20100101 Firefox/47.0',
        'X-Forwarded-For': '.'.join([str(randint(0, 255)) for x in range(4)])
    }
    gotits = [False, False, False, False, False]

    while True:

        with requests_html.AsyncHTMLSession() as s:
            for k, v in req_headers.items():
                s.headers[k] = v
            print(f"urls:    {urls}")
            print(1)
            try:

                if len(urls) < 5:
                    dispatcher = {0: getting_realtytrac_async,
                                  1: getting_realtytrac_async1,
                                  2: getting_realtytrac_async2,
                                  3: getting_realtytrac_async3}
                    new_urls = []
                    for url in range(0, len(urls)-1):
                        new_urls.append(lambda: dispatcher[url](urls, s, gotits))
                    print(*new_urls)
                    r = s.run(
                        *new_urls
                    )

                elif len(urls) == 5:
                    r = s.run(lambda: getting_realtytrac_async(urls, s, gotits),
                              lambda: getting_realtytrac_async1(urls, s, gotits),
                              lambda: getting_realtytrac_async2(urls, s, gotits),
                              lambda: getting_realtytrac_async3(urls, s, gotits),
                              lambda: getting_realtytrac_asyns4(urls, s, gotits))
                    print(r)
                print(r)
                print(2)
                print(3)
                home_list, price_list, tax_list = [], [], []
                for page in r:
                    try:
                        print("THATS HEREEREREREREREEREREREERERERERERE")
                        home_details_dict = gathering_home_details(page[0])
                        print(4)
                        temp = gathering_price_history(page[0])
                        if temp:
                            price_history_list = temp
                        else:
                            price_history_list = None
                        print(5)
                        tax_history_list = gathering_tax_history(page[0])
                        home_list.append((home_details_dict, page[1]))

                        price_list.append(price_history_list)
                        tax_list.append(tax_history_list)
                    except AttributeError as e:
                        print(e)
                        continue
                    except IndexError as e:
                        print(e)
                        continue

            except requests.exceptions.TooManyRedirects as e:
                new_urls = []
                for index, i in enumerate(gotits):
                    if i:
                        new_urls.append(urls[index-1])
                urls = new_urls
                print("###################")
                print(e)
                continue
            except UnboundLocalError as e:
                print(e)
                pass
            except Exception as e:
                print(10)
                print(e)

            finally:
                print(11)
                s.close()
                break

    try:
        print(home_list)
    except UnboundLocalError as e:
        print(e)
        return None, None, None

    returner = True
    for i in home_list:

        if i == "":
            returner = False

    if returner:
        return home_list, price_list, tax_list
    else:
        return None, None, None
